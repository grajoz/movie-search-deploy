!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));class o{constructor(e){this.resultSearch=e}createPoster(){const{title:e}=this.resultSearch,{img:t}=this.resultSearch,{year:n}=this.resultSearch,{imdbID:o}=this.resultSearch;let a=document.createElement("div");const r=document.createElement("h2"),c=document.createElement("div"),s=document.createElement("img"),i=document.createElement("p");return a.classList.add("poster"),a.setAttribute("src","https://www.imdb.com/title/"+o),r.textContent=e,s.classList.add("poster__img"),s.setAttribute("alt",e),s.setAttribute("src",t),i.textContent=n,c.append(s),a.append(r),a.append(c),a.append(i),a}}class a{constructor(e){this.dataSearch=e}async getResultSearch(){const{dataSearch:e}=this;let t,n,o,a,r;try{let n=await fetch(`https://www.omdbapi.com/?s=${e}&apikey=aab7b845`);t=await n.json()}catch(e){document.getElementById("error").textContent=e,document.getElementById("error").classList.remove("none")}let c=!1,s=[];return c=t.Response.toLowerCase(),"false"===c&&(c=!1),c?t.Search.forEach((e,c)=>{n=t.Search[c].Title,o=t.Search[c].Poster,"N/A"==o&&(o="./img/no-poster.jpg"),a=t.Search[c].Year,r=t.Search[c].imdbID,s[c]={title:n,img:o,year:a,imdbID:r}}):s[0]={title:t.Error,img:"./img/noresult.png",year:"",imdbID:""},s}}class r{constructor(e,t){this.dataSearch=e,this.nodePosterNumber=t}async getRatingtSearch(){const{dataSearch:e}=this,{nodePosterNumber:t}=this,n=document.getElementById("movies");let o,a;const r=`https://www.omdbapi.com/?i=${e}&apikey=aab7b845`,c=await fetch(r);if(a=await c.json(),o=a.imdbRating,Number(o)>0){let e=n.getElementsByClassName("poster");e=Array.prototype.slice.call(e);let a=e[t],r=document.createElement("div");r.classList.add("rating");let c=document.createElement("img");c.classList.add("star"),c.setAttribute("alt","srtar"),c.setAttribute("src","./img/star.svg"),a.append(r),r.append(c),r.append(o)}return o}}class c{constructor(e,t){this.beforeTranlateDataSearch=e,this.afterTranlateDataSearch=t}validateBeforeAfter(e,t){if(e!==t)return!0}}var s={Backquote:{1:"`",2:"~",3:"ё",4:"Ё",5:"`",6:"~",7:"Ё",8:"ё"},Digit1:{1:"1",2:"!",3:"1",4:"!",5:"1",6:"!",7:"1",8:"!"},Digit2:{1:"2",2:"@",3:"2",4:'"',5:"2",6:"@",7:"2",8:'"'},Digit3:{1:"3",2:"#",3:"3",4:"№",5:"3",6:"#",7:"3",8:"№"},Digit4:{1:"4",2:"$",3:"4",4:";",5:"4",6:"$",7:"4",8:";"},Digit5:{1:"5",2:"%",3:"5",4:"%",5:"5",6:"%",7:"5",8:"%"},Digit6:{1:"6",2:"^",3:"6",4:":",5:"6",6:"^",7:"6",8:":"},Digit7:{1:"7",2:"&",3:"7",4:"?",5:"7",6:"&",7:"7",8:"?"},Digit8:{1:"8",2:"*",3:"8",4:"*",5:"8",6:"*",7:"8",8:"*"},Digit9:{1:"9",2:"(",3:"9",4:"(",5:"9",6:"(",7:"9",8:"("},Digit0:{1:"0",2:")",3:"0",4:")",5:"0",6:")",7:"0",8:")"},Minus:{1:"-",2:"_",3:"-",4:"_",5:"-",6:"_",7:"-",8:"_"},Equal:{1:"=",2:"+",3:"=",4:"+",5:"=",6:"+",7:"=",8:"+"},Backspace:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},Tab:{1:"    ",2:"    ",3:"    ",4:"    ",5:"    ",6:"    ",7:"    ",8:"    "},KeyQ:{1:"q",2:"Q",3:"й",4:"Й",5:"Q",6:"q",7:"Й",8:"й"},KeyW:{1:"w",2:"W",3:"ц",4:"Ц",5:"W",6:"w",7:"Ц",8:"ц"},KeyE:{1:"e",2:"E",3:"у",4:"У",5:"E",6:"e",7:"У",8:"у"},KeyR:{1:"r",2:"R",3:"к",4:"К",5:"R",6:"r",7:"К",8:"к"},KeyT:{1:"t",2:"T",3:"е",4:"Е",5:"T",6:"t",7:"Е",8:"е"},KeyY:{1:"y",2:"Y",3:"н",4:"Н",5:"Y",6:"y",7:"Н",8:"н"},KeyU:{1:"u",2:"U",3:"г",4:"Г",5:"U",6:"u",7:"Г",8:"г"},KeyI:{1:"i",2:"I",3:"ш",4:"Ш",5:"I",6:"i",7:"Ш",8:"ш"},KeyO:{1:"o",2:"O",3:"щ",4:"Щ",5:"O",6:"o",7:"Щ",8:"щ"},KeyP:{1:"p",2:"P",3:"з",4:"З",5:"P",6:"p",7:"З",8:"з"},BracketLeft:{1:"[",2:"{",3:"х",4:"Х",5:"[",6:"{",7:"Х",8:"х"},BracketRight:{1:"]",2:"}",3:"ъ",4:"Ъ",5:"]",6:"}",7:"Ъ",8:"ъ"},Backslash:{1:"\\",2:"|",3:"\\",4:"/",5:"\\",6:"|",7:"\\",8:"/"},CapsLock:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},KeyA:{1:"a",2:"A",3:"ф",4:"Ф",5:"A",6:"a",7:"Ф",8:"ф"},KeyS:{1:"s",2:"S",3:"ы",4:"Ы",5:"S",6:"s",7:"Ы",8:"ы"},KeyD:{1:"d",2:"D",3:"в",4:"В",5:"D",6:"d",7:"В",8:"в"},KeyF:{1:"f",2:"F",3:"а",4:"А",5:"F",6:"f",7:"А",8:"а"},KeyG:{1:"g",2:"G",3:"п",4:"П",5:"G",6:"g",7:"П",8:"п"},KeyH:{1:"h",2:"H",3:"р",4:"Р",5:"H",6:"h",7:"Р",8:"р"},KeyJ:{1:"j",2:"J",3:"о",4:"О",5:"J",6:"j",7:"О",8:"о"},KeyK:{1:"k",2:"K",3:"л",4:"Л",5:"K",6:"k",7:"Л",8:"л"},KeyL:{1:"l",2:"L",3:"д",4:"Д",5:"L",6:"l",7:"Д",8:"д"},Semicolon:{1:";",2:":",3:"ж",4:"Ж",5:";",6:":",7:"Ж",8:"ж"},Quote:{1:"'",2:'"',3:"э",4:"Э",5:"'",6:'"',7:"Э",8:"э"},Enter:{1:"\n",2:"\n",3:"\n",4:"\n",5:"\n",6:"\n",7:"\n",8:"\n"},ShiftLeft:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},KeyZ:{1:"z",2:"Z",3:"я",4:"Я",5:"Z",6:"z",7:"Я",8:"я"},KeyX:{1:"x",2:"X",3:"ч",4:"Ч",5:"X",6:"x",7:"Ч",8:"ч"},KeyC:{1:"c",2:"C",3:"с",4:"С",5:"C",6:"c",7:"C",8:"c"},KeyV:{1:"v",2:"V",3:"м",4:"М",5:"V",6:"v",7:"М",8:"м"},KeyB:{1:"b",2:"B",3:"и",4:"И",5:"B",6:"b",7:"И",8:"и"},KeyN:{1:"n",2:"N",3:"т",4:"Т",5:"N",6:"n",7:"Т",8:"т"},KeyM:{1:"m",2:"M",3:"ь",4:"Ь",5:"M",6:"m",7:"Ь",8:"ь"},Comma:{1:",",2:"<",3:"б",4:"Б",5:",",6:"<",7:"Б",8:"б"},Period:{1:".",2:">",3:"ю",4:"Ю",5:".",6:">",7:"Ю",8:"ю"},Slash:{1:"/",2:"?",3:".",4:",",5:"/",6:"?",7:".",8:","},ArrowUp:{1:"^",2:"^",3:"^",4:"^",5:"^",6:"^",7:"^",8:"^"},ShiftRight:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},ControlLeft:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},RuEn:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},Space:{1:" ",2:" ",3:" ",4:" ",5:" ",6:" ",7:" ",8:" "},AltRight:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},ArrowLeft:{1:"<",2:"<",3:"<",4:"<",5:"<",6:"<",7:"<",8:"<"},ArrowDown:{1:"v",2:"v",3:"v",4:"v",5:"v",6:"v",7:"v",8:"v"},ArrowRight:{1:">",2:">",3:">",4:">",5:">",6:">",7:">",8:">"},ControlRight:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""}};function i(){const e=Object.keys(s),t=document.getElementById("input");let n,o=!1,a=!1;n=localStorage.lenguageStatusKey,void 0===n&&(n="en");let r="1";const c=[];function i(e,t){let n;return Object.keys(e).some(o=>o===t?(n={value:e[o]},!0):!(!e[o]||"object"!=typeof e[o]||!(n=i(e[o],t)))||void 0)&&n}function l(){!1===a&&!1===o&&"en"===n&&(r="1"),!0===a&&!1===o&&"en"===n&&(r="2"),!1===a&&!1===o&&"ru"===n&&(r="3"),!0===a&&!1===o&&"ru"===n&&(r="4"),!1===a&&!0===o&&"en"===n&&(r="5"),!0===a&&!0===o&&"en"===n&&(r="6"),!1===a&&!0===o&&"ru"===n&&(r="7"),!0===a&&!0===o&&"ru"===n&&(r="8"),function(){let t;d();for(let n=0;n<c.length;n++)t=document.querySelector("."+e[n].toLowerCase()),"Tab"===e[n]?t.textContent="Tab":t.textContent=c[n]}()}function d(){for(let t=0;t<e.length;t++){let n;n=i(s,e[t]),n=i(n,r);const{value:o}=n;n=o,"\n"===o&&(n="Enter"),""===n&&(n=e[t],"ControlRight"===n&&(n="Ctrl"),"ControlLeft"===n&&(n="Ctrl"),"AltLeft"===n&&(n="Alt"),"AltRight"===n&&(n="Alt"),"\n"===n&&(n="Enter")),c[t]=n}}function u(e){"CapsLock"===e&&(o=!1===o,l())}function m(e){"ShiftRight"!==e&&"ShiftLeft"!==e||(a=!0,l())}function y(e){"ShiftRight"!==e&&"ShiftLeft"!==e||(a=!1,l())}function f(e){return(e=e.split("")).pop(),e=e.join("")}function h(){n="en"===n?"ru":"en",localStorage.lenguageStatusKey=n,l()}function v(...e){const t=new Set;document.addEventListener("keydown",n=>{t.add(n.code);for(const n of e)if(!t.has(n))return;t.clear(),h()}),document.addEventListener("keyup",e=>{t.delete(e.code)})}!1===a&&!1===o&&"en"===n&&(r="1"),!0===a&&!1===o&&"en"===n&&(r="2"),!1===a&&!1===o&&"ru"===n&&(r="3"),!0===a&&!1===o&&"ru"===n&&(r="4"),!1===a&&!0===o&&"en"===n&&(r="5"),!0===a&&!0===o&&"en"===n&&(r="6"),!1===a&&!0===o&&"ru"===n&&(r="7"),!0===a&&!0===o&&"ru"===n&&(r="8"),d(),function(){let t="";for(let n=0;n<e.length;n++)14!==n&&28!==n&&41!==n&&54!==n||(t+='<div class="clearfix"></div>'),"Tab"===e[n]?t+=`<div class="keyboard__key ${e[n].toLowerCase()}" data="${e[n]}" >${e[n]}</div>`:"Enter"===e[n]?t+=`<div id="enter" class="keyboard__key ${e[n].toLowerCase()}" data="${e[n]}" >${c[n]}</div>`:t+=`<div class="keyboard__key ${e[n].toLowerCase()}" data="${e[n]}" >${c[n]}</div>`;document.querySelector("#keyboard").innerHTML=t}(),document.onkeydown=function(e){document.querySelectorAll("#keyboard .keyboard__key").forEach(e=>{e.classList.remove("key__active")});try{document.querySelector("."+e.code).classList.add("key__active")}catch(e){}"undefined"===e.code&&(e.code=""),u(e.code),m(e.code)},document.onkeyup=function(e){let n,o="",a="";try{document.querySelector("."+e.code).classList.remove("key__active")}catch(e){}n=i(s,e.code),n=i(n,r),a=e.code;const{value:c}=n;n=c,void 0===n&&(n=""),t.value+=n,o=t.value,"Backspace"===a&&(t.value=f(o),o=""),y(e.code)},document.querySelectorAll("#keyboard .keyboard__key").forEach(e=>{e.onmousedown=function(e){document.querySelectorAll("#keyboard .keyboard__key").forEach(e=>{e.classList.remove("key__active")}),this.classList.add("key__active");const t=this.getAttribute("data");u(t),m(t)}}),document.querySelectorAll("#keyboard .keyboard__key").forEach(e=>{let n;e.onmouseup=async function(e){let o="";const a=this.getAttribute("data");this.classList.remove("key__active"),"Enter"===a&&B(),"RuEn"===a&&h(),n=i(s,a),n=i(n,r);const{value:c}=n;n=c,t.value+=n,o=t.value,"Backspace"===a&&(t.value=f(o),o=""),y(a)}}),v("ControlRight","ShiftRight"),v("ControlLeft","ShiftLeft")}const l=document.getElementById("movies"),d=document.getElementById("input"),u=document.getElementById("submit"),m=document.getElementById("error"),y=document.getElementById("clean"),f=document.getElementById("spinner"),h=document.getElementById("prev"),v=document.getElementById("next"),g=document.getElementById("header__help"),p=document.getElementById("help"),b=document.getElementById("translate__message"),L=document.getElementById("virtkey"),E=document.getElementById("keyboard");let k=[],S=1;function _(){E.classList.add("none"),L.classList.remove("none")}function w(){d.focus(),d.select()}async function C(){let e;_(),I(),l.innerHTML="",e=d.value;let t=e;m.textContent=e;const n=await fetch(`https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20200422T124843Z.080b6a504e291973.8a23faf52816f1c303da63567f732b90ec64f825&text= ${e} &lang=ru-en`),o=await n.json();e=String(o.text).toLowerCase().trim();let a=e;new c(t,a).validateBeforeAfter(t,a)&&function(e){b.classList.remove("none"),b.textContent=`Showing results for "${e}"`}(t),A(e)}function B(){C()}function K(){b.classList.add("none")}async function A(e){let t;const n=new a(e);t=await n.getResultSearch(e),""===t[0].imdbID&&(t[0].title,R(),m.classList.remove("none"),m.textContent=`No results  "${d.value}"`),t.forEach((e,n)=>{R();const a=new o(t[n]);l.appendChild(a.createPoster(t[n])),k[n]=t[n].imdbID,async function(e,t){new r(e,t).getRatingtSearch(e,t)}(k[n],n),D(S)})}function I(){m.classList.add("none")}function D(e){let t=document.getElementsByClassName("poster");e>t.length&&(S=1),e<1&&(S=t.length);for(let e=0;e<t.length;e++)t[e].classList.remove("active");t[S-1].classList.add("active"),t[S]&&t[S].classList.add("active"),t[S+1]&&t[S+1].classList.add("active"),t[S+2]&&t[S+2].classList.add("active")}function R(){f.classList.add("none"),y.classList.remove("none")}function x(){y.classList.add("none"),f.classList.remove("none")}A("dog"),K(),w(),L.addEventListener("click",()=>{i(),E.classList.remove("none"),L.classList.add("none")}),g.addEventListener("click",()=>{p.classList.remove("none")}),p.addEventListener("click",e=>{e.currentTarget.classList.add("none"),w()}),d.placeholder="add a movie name ",d.autocomplete="off",d.type="search",l.addEventListener("click",e=>{K();let t=e.target;t=t.parentElement,t=t.parentElement,t.hasAttribute("src")&&(t=t.getAttribute("src"),document.location.href=t)}),y.addEventListener("click",()=>{d.value="",w(),K(),I(),K()}),u.addEventListener("click",()=>{C(),x(),I(),K(),_()}),f.addEventListener("click",()=>{R()}),document.addEventListener("keydown",e=>{"Enter"===e.code&&(C(),x(),I(),K(),_())}),h.addEventListener("click",()=>{D(S-=1),I()}),v.addEventListener("click",()=>{D(S+=1),I()})}]);
//# sourceMappingURL=bundle.js.map